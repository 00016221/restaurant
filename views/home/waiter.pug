include ../head.pug
body.text-white
  header.mb-40
      .container.mx-auto.my-4
        h1.text-5xl.font-bold.text-center List of Orders
        .flex.justify-end
          button(class="add-btn py-2 px-6 bg-green-600 border-2 border-green-600 hover:bg-white hover:text-green-600 duration-300 rounded active:scale-110", type="button") Add New
  main
      section(class="h-[65vh]")
        .container.mx-auto
          //- list of foods
          include ./../orders/orderlist

          //- Add form
          include ./../orders/add
      section
        p.text-center.text-lg “This web application was created to fulfill Web Technology module's requirements and does not represent an actual company or service”.

  script.
    document.addEventListener('DOMContentLoaded', function() {
      function findElement(element, parent = document) {
        return parent.querySelector(element);
      }

      // Check if token exists in local storage
      const token = localStorage.getItem('waiter_token');

      // If token doesn't exist, redirect to login page
      if (!token) {
        window.location.href = '/login'; // Adjust the URL to your login page
      }


      //- Open create new form
      const elAddBtnAnimation = findElement(".add-btn")
      elAddBtnAnimation.addEventListener("click", function(e) {
        const elAddForm = findElement(".add-form")
        const elBlur = findElement(".blur")

        elAddForm.classList.toggle("show")
        elBlur.classList.toggle("hidden")
        if(elAddForm.className.includes("show")) {
          elAddForm.style.transform = "translate(-75%, 50%)"
        } else {
          elAddForm.style.transform = "translate(125%, 50%)"
        }
      })


      

    });